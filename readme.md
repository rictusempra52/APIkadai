# マンション管理員用アプリ(問い合わせフォーム MySQL 対応版)

`readme.md` の修正：2025 年 1 月 15 日追加分から、日付を明記するようにしました。

# 制作サイトの説明

お客様からの問い合わせを登録できるようにしました。  
MySQL への接続ができるようになりました。
これまでは部屋番号と問い合わせ内容のみでしたが、対応期日も保存するようになりました。

# 工夫した点・こだわった点

- 複数行入力を適切に保存するために URL エンコードを使用したこと
- `/functions.php` に関数を集約し、コードを整理したこと
- 事業企画プレゼンなどを `presentation/` に集約した！
- 問い合わせ内容が空欄の時の処理を CSS で記述した。結構わかりやすい UI になったはず
- .env を使って環境変数を管理、したかったができなかったので env.php を作って管理した

### 2025 年 1 月 15 日追加

- 下記「難しかった点」記載の通り、自分でもミスに気付かなかったため、編集結果をアラートするようにしました。

# 難しかった点・次回トライしたいこと（または機能）

## 難しかった点

- そもそもデプロイが訳わからなさ過ぎて半日はつぶした・・・

### 2025 年 1 月 15 日追加

- 更新が更新になっていなく、追加になっていたことに全然気づきませんでした。わかりやすいように修正したほうがよさそう。

## 追加したい機能

- 問い合わせ対応の修正、更新 → 完了。削除を追加したい

### 2025 年 1 月 15 日追加

- 論理削除完了！
- 対応期限が近づいていたら目立たせる機能を追加したい

# 備考（感想、シェアしたいこと等なんでも）

- vscode のショートカットキーを意識して覚えるようにしました。  
  Alt+上下でカーソルのある行をそのまま上下に移動 https://qiita.com/12345/items/64f4372fbca041e949d0
- `require_once` を使うと、header や footer ,function をサイト内で共通化できる！

## デプロイ時に困ったことメモ

- filezilla で UP した後でも、デプロイされたものを確認しようとする古いファイルが開いてしまう。→ キャッシュ削除 or SuperReload`ctrl+shift+r` で解決した
- `{"database error":"SQLSTATE[HY000] [2002] No such file or directory"}` のエラーが出る。localhost では問題ない → 未解決  
   ﾁｬｯﾋﾟｰ：https://chatgpt.com/share/67723b87-6614-800b-96c6-604060d1be42
  「接続先ホスト名が間違っている場合（例: localhost vs 127.0.0.1）、接続に失敗します。」を試したら、
  今度は`{"database error":"SQLSTATE[HY000] [2002] Connection refused"}`のエラーになった。
  → ホスト名は localhost でも 127.0.0.1 でも一緒で、いずれも localhost を指すことが分かった。  
  → そもそも mysql の正しいホスト名や id を入れる必要があった。

## 2025 年 1 月 15 日追加

- 「更新された」「追加された」はわかるように `alert` を出したほうが良い。
- `alert` を出す処理は、`session` を使うとよい。
